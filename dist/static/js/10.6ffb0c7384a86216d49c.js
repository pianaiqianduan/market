webpackJsonp([10],{"Cu/Z":function(e,t){},ImHu:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("pTXB"),o=i("rGqP"),r=(a.a,o.a,{name:"changeOrder",components:{FormPreview:a.a,Divider:o.a},data:function(){var e=this;return{changeDetail:localStorage.changeDetail?JSON.parse(localStorage.changeDetail):"",buttons:[{style:"primary",text:"删除订单",onButtonClick:function(){e.$vux.loading.show({}),e.$axios.get(e.url+"/ncPreorderServiceController.do?doDel",{params:{sessionid:localStorage.sessionid,id:e.whichId}}).then(function(t){e.$vux.loading.hide(),1==t.data.success&&(sessionStorage.deleted="true",e.$router.push({path:"/searc"}))}).catch(function(t){e.$vux.loading.hide(),e.$vux.alert.show({title:"注意",content:"服务器异常,请稍后再试!"})})}},{style:"primary",text:"修改订单",onButtonClick:function(){e.$vux.loading.show({}),e.$axios.get(e.url+"/ncPreorderServiceController.do?preorderheaddatagrid",{params:{sessionid:localStorage.sessionid,id:e.whichId}}).then(function(t){e.$store.commit("changeFlowList",t.data.rows[0])}).catch(function(t){e.$vux.alert.show({title:"注意",content:"服务器异常,请稍后再试!"})})}}]}},computed:{rental:function(){return this.$store.state.rental},whichId:function(){return this.$store.state.whichId},isChange:function(){return this.$store.state.isChange}},created:function(){sessionStorage.deleted="",this.$store.commit("keepAlive","changeOrder")},beforeRouteLeave:function(e,t,i){"/searc"==e.path&&"true"==sessionStorage.deleted?(this.$store.commit("changekeepAlive","searc"),localStorage.removeItem("changeDetail")):"/"==e.path&&this.$store.commit("changekeepAlive","enter"),i()},watch:{isChange:function(e){var t=this;e&&this.$axios.get(this.url+"/ncPreorderServiceController.do?preorderdetaildatagrid",{params:{sessionid:localStorage.sessionid,id:this.whichId}}).then(function(e){t.$vux.loading.hide(),t.$store.commit("Nouse",e.data.rows),t.$router.push({name:"enter"})}).catch(function(e){t.$vux.loading.hide(),t.$vux.alert.show({title:"注意",content:"服务器异常,请稍后再试!"})})}}}),n={render:function(){var e=this.$createElement,t=this._self._c||e;return this.changeDetail?t("div",{staticClass:"changeOrder"},[t("divider",[this._v("订单修改")]),this._v(" "),t("form-preview",{staticStyle:{"margin-top":"3%"},attrs:{"header-label":"订单总额","header-value":this.rental,"body-items":this.changeDetail,"footer-buttons":this.buttons}})],1):t("div",[t("p",{staticStyle:{"text-align":"center","margin-top":"25%","font-size":"25px"}},[this._v("订单已删除!!")])])},staticRenderFns:[]};var s=i("VU/8")(r,n,!1,function(e){i("Cu/Z")},"data-v-388d5e46",null);t.default=s.exports}});
//# sourceMappingURL=10.6ffb0c7384a86216d49c.js.map